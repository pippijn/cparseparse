OASISFormat:                    0.3
OCamlVersion:                   >= 3.12
Name:                           elkhound
Version:                        0.1
Synopsis:                       Elkhound GLR Parser Generator
Authors:                        Pippijn van Steenhoven
License:                        GPL
LicenseFile:                    COPYING
Plugins:                        META (0.3),
                                StdFiles (0.3),
                                DevFiles (0.3)
XStdFilesAUTHORS:               false
XStdFilesINSTALLFilename:       INSTALL
XStdFilesREADME:                false

SourceRepository head
        Type:                   git
        Location:               git://git.xinutec.org/lang/cxxparse.git
        Browser:                http://xinutec.org/git/lang/cxxparse.git


Executable arith
        Path:                   testsuite/elkhound/arith
        BuildTools:             ocamlbuild,camlp4o
        BuildDepends:           glr,                                    # internal
                                sexplib                                 # external
        CompiledObject:         native
        MainIs:                 arith.ml

Executable sless
        Path:                   testsuite/elkhound/scannerless
        BuildTools:             ocamlbuild,camlp4o
        BuildDepends:           glr,                                    # internal
                                sexplib                                 # external
        CompiledObject:         native
        MainIs:                 sless.ml

Executable elkhound
        Path:                   src/elkhound
        BuildTools:             ocamlbuild,camlp4o
        BuildDepends:           gramanl,                                # internal
                                batteries,menhirLib,ulex                # external
        CompiledObject:         native
        MainIs:                 elkhound.ml

Executable cpapa
        Path:                   src/cpapa
        BuildTools:             ocamlbuild
        BuildDepends:           ccparse
        CompiledObject:         native
        MainIs:                 cpapa.ml

Executable treematch
        Path:                   src/treematch
        BuildTools:             ocamlbuild,camlp4of
        BuildDepends:           baselib,                                # internal
                                camlp4,camlp4.lib,                      # core
                                batteries,sexplib                       # external
        CompiledObject:         native
        MainIs:                 treematch.ml

Executable runtests
        Path:                   testsuite
        BuildTools:             ocamlbuild
        BuildDepends:           baselib,                                # internal
                                unix,                                   # core
                                batteries                               # external
        CompiledObject:         native
        MainIs:                 runtests.ml


Library gramanl
        Path:                   src/gramanl
        Pack:                   true
        BuildTools:             ocamlbuild,camlp4of
        BuildDepends:           baselib,glr,                            # internal
                                unix,camlp4,camlp4.lib,                 # core
                                batteries,sexplib,ocamlgraph,ulex       # external
        CompiledObject:         native
#        NativeOpt:              -inline 999 -unsafe -noassert
        Modules:                AnalysisEnv,
                                AnalysisEnvType,
                                Assoc,
                                BackTransform,
                                BfsTree,
                                CamlAst,
                                CodegenHelpers,
                                ConflictResolution,
                                Derivability,
                                Diagnostics,
                                DottedProduction,
                                EmitActions,
                                EmitCode,
                                EmitNames,
                                EmitPtree,
                                EmitTables,
                                EmitTokens,
                                EmitTreematch,
                                FirstSets,
                                FollowSets,
                                GrammarAnalysis,
                                GrammarAst,
                                GrammarGraph,
                                GrammarLexer,
                                GrammarParser,
                                GrammarTreeParser,
                                GrammarType,
                                GrammarUtil,
                                ItemList,
                                ItemSet,
                                LrItem,
                                LrItemSets,
                                Merge,
                                Nonterminal,
                                NtArray,
                                Options,
                                OutputMenhir,
                                PrintAnalysisEnv,
                                PrintAst,
                                PrintGrammar,
                                ProdArray,
                                PtreeMaker,
                                Reachability,
                                Renumbering,
                                SampleInput,
                                StateGraph,
                                StateId,
                                SuperSets,
                                TableConstruction,
                                TableEncoding,
                                TablePrinting,
                                TermArray,
                                Terminal,
                                TerminalSet,
                                Warnings

Library ccparse
        Path:                   src/ccparse
        Pack:                   true
        BuildTools:             ocamlbuild,ocamllex
        BuildDepends:           baselib,glr,cabs,                       # internal
                                unix                                    # core
        CompiledObject:         native
#        NativeOpt:              -inline 999 -unsafe -noassert
        Modules:                gr/CcActions,
                                gr/CcPtree,
                                gr/CcPtreeActions,
                                gr/CcTables,
                                gr/CcTokens,
                                gr/CcTreematch,
                                gr/CcTreematchActions,
                                Cc_keywords,
                                Lexer,
                                Parser,
                                Options

Library cabs
        Path:                   src/cabs
        Pack:                   true
        BuildTools:             ocamlbuild,camlp4o
        BuildDepends:           batteries,sexplib                       # external
        CompiledObject:         native
#        NativeOpt:              -inline 999 -unsafe -noassert
        Modules:                Ast,
                                Constant,
                                Sclass,
                                Tqual

Library glr
        Path:                   src/glr
        Pack:                   true
        BuildTools:             ocamlbuild
        BuildDepends:           baselib                                 # internal
        CompiledObject:         native
#        NativeOpt:              -inline 999 -unsafe -noassert
        Modules:                Arraystack,
                                Easy,
                                GlrEngine,
                                GlrOptions,
                                Lexerint,
                                Objpool,
                                ParseTables,
                                ParseTablesType,
                                PtreeActions,
                                PtreeNode,
                                TokenInfo,
                                UserActions

Library baselib
        Path:                   src/baselib
        BuildTools:             ocamlbuild,camlp4o
        BuildDepends:           batteries,sexplib                       # external
        CompiledObject:         native
#        NativeOpt:              -inline 999 -unsafe -noassert
        CCLib:                  -lstdc++ -lz
        CSources:               ml_BitSet.c,
                                ml_Sched.c,
                                ml_Valgrind.c,
                                ml_Zlib.c
        Modules:                Bit2d,
                                BitSet,
                                Cmdline,
                                CompressedBitSet,
                                ExtArray,
                                ExtFormat,
                                ExtList,
                                ExtString,
                                IntegralIndexedArray,
                                HashStack,
                                Sched,
                                SexpMap,
                                SexpSet,
                                Sig,
                                StringMap,
                                StringSet,
                                Timing,
                                Valgrind,
                                Zlib


Test runtests
        TestTools:              runtests
        Command:                _build/testsuite/runtests.native
