OASISFormat:                    0.3
OCamlVersion:                   >= 3.12
Name:                           elkhound
Version:                        0.6
Synopsis:                       Elkhound GLR Parser Generator
Authors:                        Pippijn van Steenhoven
License:                        GPL
LicenseFile:                    COPYING
Plugins:                        META (0.3),
                                StdFiles (0.3),
                                DevFiles (0.3)
XStdFilesAUTHORS:               false
XStdFilesINSTALLFilename:       INSTALL
XStdFilesREADME:                false

SourceRepository head
        Type:                   git
        Location:               git://git.xinutec.org/lang/cxxparse.git
        Browser:                http://xinutec.org/git/lang/cxxparse.git


Executable elkhound
        Path:                   elkhound
        BuildTools:             ocamlbuild,camlp4of
        BuildDepends:           sexplib,ulex,menhirLib,batteries,glr,baselib,unix,camlp4,camlp4.lib
        MainIs:                 elkhound.ml
        CompiledObject:         native
#        NativeOpt:              -inline 0 -unsafe -noassert -nodynlink


Executable cpapa
        Path:                   cpapa
        BuildTools:             ocamlbuild
        BuildDepends:           ccparse,ast
        MainIs:                 cpapa.ml
        CompiledObject:         native

Executable treematch
        Path:                   treematch
        BuildTools:             ocamlbuild
        BuildDepends:           sexplib,camlp4,camlp4.lib
        MainIs:                 treematch.ml
        CompiledObject:         native

Executable runtests
        Path:                   testsuite
        BuildTools:             ocamlbuild
        BuildDepends:           unix,batteries
        MainIs:                 runtests.ml
        CompiledObject:         native


Library ccparse
        Path:                   ccparse
        BuildTools:             ocamlbuild
        BuildDepends:           glr,ast,baselib,ulex,unix
        Modules:                gr/CcActions,
                                gr/CcPtree,
                                gr/CcPtreeActions,
                                gr/CcTables,
                                gr/CcTokens,
                                Ccparse,
                                Cc_keywords,
                                Lexer,
                                Options,
                                Ulexer
        CompiledObject:         native
#        NativeOpt:              -inline 999 -unsafe -noassert -nodynlink


Library glr
        Path:                   glr
        BuildTools:             ocamlbuild
        BuildDepends:           baselib
        Modules:                Arraystack,
                                Glr,
                                Lexerint,
                                Objpool,
                                ParseTables,
                                ParseTablesType,
                                PtreeActions,
                                PtreeNode,
                                UserActions
        CompiledObject:         native
#        NativeOpt:              -inline 0 -unsafe -noassert -nodynlink

Library ast
        Path:                   ast
        BuildTools:             ocamlbuild
        BuildDepends:           sexplib,sexplib.syntax
        Modules:                C0,
                                Ident,
                                Lit,
                                Loc
        CompiledObject:         native


Library baselib
        Path:                   baselib
        BuildTools:             ocamlbuild
        BuildDepends:           sexplib,batteries
        Modules:                Bit2d,
                                BitSet,
                                CompressedBitSet,
                                HashStack,
                                ListUtil,
                                SexpMap,
                                SexpSet,
                                StringMap,
                                StringSet,
                                Timing,
                                Valgrind
        CSources:               ml_BitSet.c, ml_Valgrind.c
        CCLib:                  -lstdc++


Test runtests
        TestTools:              runtests
        Command:                _build/testsuite/runtests.native
